{
  "hash": "758edd61220a0279897dbc9e84c39b9e",
  "result": {
    "markdown": "---\ntitle: \"Difference-in-Differences\"\nauthor: \"Lucas Rousselange\"\nexecute:\n  warning: false\nformat:\n  html:\n    code-fold: true\nnumber-sections: false\n---\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-1_93c9e61fb493275924a3d9b5d0e55d4c'}\n\n```{.r .cell-code}\n#Load data set and libraries\nlibrary(ggplot2)\nlibrary(jtools)\nlibrary(kableExtra)\nlibrary(dplyr)\nhospdd <- readRDS(\"../../../Causal_Data_Science_Data/hospdd.rds\")\n```\n:::\n\n\n# Task 1\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-2_2a50af1bdb89d8bb07be02b232dd4b41'}\n\n```{.r .cell-code}\n# Before treatment\nctrl_satis_before <- hospdd %>%\n  filter(month <4, procedure == 0) %>% \n  pull(satis)\nctrl_satis_before <- mean(ctrl_satis_before)\ncsb <- sprintf(\"%0.2f\",ctrl_satis_before)\n\ntrmt_satis_before <- hospdd %>%\n  filter(month <4, procedure == 0) %>% \n  pull(satis)\ntrmt_satis_before <- mean(trmt_satis_before)\ntsb <- sprintf(\"%0.2f\",trmt_satis_before)\n\n\n\n# After treatment\nctrl_satis_after <- hospdd %>%\n  filter(month >=4, procedure == 0) %>% \n  pull(satis)\nctrl_satis_after <- mean(ctrl_satis_after)\ncsa <- sprintf(\"%0.2f\",ctrl_satis_after)\n\n\ntrmt_satis_after <- hospdd %>%\n  filter(month >=4, procedure == 0) %>% \n  pull(satis)\ntrmt_satis_after <- mean(trmt_satis_after)\ntsa <- sprintf(\"%0.2f\",trmt_satis_after)\n```\n:::\n\nThe satisfaction in the groups were as follows:\n\n|Group| Ctrl - Before| Trmt - Before| Ctrl - After| Trmt - After|\n|-|-|-|-|-|\n|Satisfaction|3.45|3.45|3.38|3.38|\n\n# Task 2 \nwe want to include month and hospital as variable and not as factor to be able to see an overall trend. \n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-3_8e46cc12bdf613f2092c97796764b3fd'}\n\n```{.r .cell-code}\nsumm(lm(satis ~ procedure*(month + hospital), data = hospdd))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<tbody>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> Observations </td>\n   <td style=\"text-align:right;\"> 7368 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> Dependent variable </td>\n   <td style=\"text-align:right;\"> satis </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> Type </td>\n   <td style=\"text-align:right;\"> OLS linear regression </td>\n  </tr>\n</tbody>\n</table> <table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<tbody>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> F(5,7362) </td>\n   <td style=\"text-align:right;\"> 227.64 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> R² </td>\n   <td style=\"text-align:right;\"> 0.13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> Adj. R² </td>\n   <td style=\"text-align:right;\"> 0.13 </td>\n  </tr>\n</tbody>\n</table> <table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Est. </th>\n   <th style=\"text-align:right;\"> S.E. </th>\n   <th style=\"text-align:right;\"> t val. </th>\n   <th style=\"text-align:right;\"> p </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> 3.56 </td>\n   <td style=\"text-align:right;\"> 0.03 </td>\n   <td style=\"text-align:right;\"> 111.68 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> procedure </td>\n   <td style=\"text-align:right;\"> 0.64 </td>\n   <td style=\"text-align:right;\"> 0.14 </td>\n   <td style=\"text-align:right;\"> 4.68 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> month </td>\n   <td style=\"text-align:right;\"> -0.00 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n   <td style=\"text-align:right;\"> -0.68 </td>\n   <td style=\"text-align:right;\"> 0.50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> hospital </td>\n   <td style=\"text-align:right;\"> -0.00 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> -4.15 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> procedure:month </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n   <td style=\"text-align:right;\"> 0.02 </td>\n   <td style=\"text-align:right;\"> 0.53 </td>\n   <td style=\"text-align:right;\"> 0.60 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> procedure:hospital </td>\n   <td style=\"text-align:right;\"> 0.02 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n   <td style=\"text-align:right;\"> 3.46 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Standard errors: OLS</td></tr></tfoot>\n</table>\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}